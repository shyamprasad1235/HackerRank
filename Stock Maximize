long stockmax(int prices_count, int* prices) {
    long profit = 0;
    int max_future = 0;
    for (int i = prices_count - 1; i >= 0; i--) {
        if (prices[i] > max_future) {
            max_future = prices[i]; 
        }
        profit += (long)(max_future - prices[i]);
    }
    return profit;
}
